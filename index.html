<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday GameBoy - Puputt ü•∞</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        /* --- STYLE DASAR --- */
        :root {
            --body-color: #dcdcd6; 
            --screen-bg: #0a1a0a; 
            --retro-green: #66ff66; 
            --btn-red: #e74c3c;
            --btn-green: #2ecc71;
            --btn-blue: #3498db;
            --retro-yellow: #f1c40f;
            --maze-pink: #ff85b3;
            --heart-red: #ff2d55;
        }

        body {
            display: flex; justify-content: center; align-items: center; min-height: 100vh;
            background-color: #111; margin: 0; font-family: 'Press Start 2P', cursive;
            overflow: hidden; user-select: none;
        }

        /* --- Galaxy Background --- */
        .space-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;
            overflow: hidden; z-index: 1; display: none;
            background: radial-gradient(circle at center, #132b13 0%, #0a1a0a 100%);
        }
        .overlay-active .space-bg { display: block; }
        .star { position: absolute; background: white; border-radius: 50%; animation: twinkle var(--duration) infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.3; transform: scale(1); } 50% { opacity: 1; transform: scale(1.2); } }
        .moon { position: absolute; top: 20px; right: 20px; width: 35px; height: 35px; background: #f1c40f; border-radius: 50%; box-shadow: 0 0 15px rgba(241, 196, 15, 0.4); }
        .earth { position: absolute; top: 60px; right: 15px; font-size: 20px; animation: float 7s ease-in-out infinite; }
        .saturn { position: absolute; bottom: 25%; right: 10%; width: 25px; height: 25px; background: #e67e22; border-radius: 50%; }
        .saturn::after { content: ''; position: absolute; top: 50%; left: 50%; width: 40px; height: 8px; border: 2px solid rgba(243, 156, 18, 0.5); border-radius: 50%; transform: translate(-50%, -50%) rotate(-20deg); }
        .ufo { position: absolute; font-size: 15px; top: 30%; left: -50px; animation: fly-ufo 12s linear infinite; }
        .astronaut { position: absolute; font-size: 18px; bottom: 25%; left: 8%; animation: float 5s ease-in-out infinite; }
        .plane { position: absolute; font-size: 15px; top: 10%; left: 10%; animation: float 10s infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        @keyframes fly-ufo { from { left: -50px; } to { left: 120%; } }

        /* --- CONSOLE FRAME --- */
        .console {
            width: 320px; background: var(--body-color);
            background-image: linear-gradient(135deg, #eeeeee 0%, #cccccc 100%);
            border-radius: 20px 20px 60px 20px;
            box-shadow: 20px 20px 50px rgba(0,0,0,0.8), inset -5px -5px 10px rgba(0,0,0,0.2), inset 5px 5px 10px rgba(255,255,255,0.5);
            display: flex; flex-direction: column; align-items: center; padding: 15px 15px 30px 15px;
            position: relative; border: 1px solid #aaa; transition: transform 0.3s;
        }
        @media (max-height: 700px) { .console { transform: scale(0.85); } }

        .screen-border {
            width: 290px; height: 220px; background-color: #333; border-radius: 10px;
            display: flex; justify-content: center; align-items: center; overflow: hidden;
            margin-bottom: 20px; border: 4px solid #111; box-shadow: inset 0 0 15px #000;
            transition: all 0.4s ease; z-index: 10; position: relative; 
        }
        .screen-border::before {
            content: " "; display: block; position: absolute; top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), 
                        linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 20; background-size: 100% 3px, 3px 100%; pointer-events: none;
        }
        .overlay-active .screen-border {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            border: none; border-radius: 0; margin: 0; z-index: 999;
        }
        #display {
            width: 100%; height: 100%; background-color: var(--screen-bg);
            background-image: linear-gradient(rgba(0, 255, 0, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 255, 0, 0.05) 1px, transparent 1px);
            background-size: 15px 15px; position: relative; display: flex; flex-direction: column; 
            padding: 15px; box-sizing: border-box; overflow-y: auto; scrollbar-width: none; transform: scale(1.02); 
        }

        /* --- GALERI UI BARU --- */
        .gallery-ui { 
            width: 100%; height: 100%; display: flex; flex-direction: column; 
            align-items: center; justify-content: flex-start;
            background-color: transparent; position: relative; overflow: hidden; 
            padding-top: 20px;
        }

        .printer-deco {
            width: 85%;
            display: flex; flex-direction: column; align-items: center;
            margin-bottom: -5px; z-index: 6;
        }
        .gallery-big-text {
            font-family: 'Press Start 2P'; font-size: 20px; 
            color: var(--retro-green); text-shadow: 0 0 5px rgba(102, 255, 102, 0.5);
            letter-spacing: 2px; margin-bottom: 10px; text-transform: uppercase;
        }
        .printer-slot {
            width: 100%; height: 12px; background: #222;
            border-top: 2px solid #555; border-bottom: 2px solid #555;
            border-radius: 4px; box-shadow: inset 0 0 10px #000;
            margin-bottom: 0;
        }
        
        .photobox-container {
            width: 82%; max-width: 280px;
            background-color: #222; border: 2px solid #444; border-radius: 0 0 8px 8px;
            padding: 5px;
            display: flex; flex-direction: column; align-items: center; box-shadow: 0 10px 30px rgba(0,0,0,1); 
            height: 75%;
            position: relative; z-index: 5; 
        }

        .photobox-header {
            width: 100%; background: #333; padding: 6px 8px; text-align: center; border-radius: 4px; margin-bottom: 5px;
            border: 1px solid #555; display: flex; justify-content: space-between; align-items: center; box-sizing: border-box;
        }
        .led-indicator { width: 6px; height: 6px; border-radius: 50%; box-shadow: 0 0 5px currentColor; }
        .led-red { background: #ff3333; color: #ff3333; animation: blink 1s infinite; }
        .led-green { background: #33ff33; color: #33ff33; }
        .photobox-title { font-size: 8px; color: #f1c40f; letter-spacing: 1px; font-weight: bold; }
        
        .photobox-screen {
            width: 100%; flex: 1; background-color: #151515;
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px), 
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 20px 20px; border-top: 2px solid #000;
            display: flex; flex-direction: column; align-items: center; overflow-y: auto; 
            padding: 15px 0 60px 0;
            scrollbar-width: none; position: relative; gap: 20px;
        }

        /* --- STYLE KARTU FOTO & TAG NOMOR --- */
        .photo-card-frame {
            background-color: #fff;
            padding: 8px 8px 35px 8px;
            width: 160px;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.5), 0 0 2px rgba(0,0,0,0.2);
            border-radius: 2px;
            position: relative; flex-shrink: 0;
            transform: rotate(var(--rot)); 
            transition: transform 0.3s;
        }
        .photo-img-area {
            width: 100%; aspect-ratio: 3/4;
            background: #000; position: relative; overflow: hidden; 
            border: 1px solid #ddd; display: flex; justify-content: center; align-items: center;
        }
        .photo-img-area img {
            width: 100%; height: 100%; object-fit: cover;
            filter: contrast(1.1) brightness(1.05);
            opacity: 0; transition: opacity 0.5s ease-in;
        }
        
        /* Tag Nomor Polaroid (#1, #2) */
        .photo-tag-number {
            position: absolute;
            bottom: 12px; 
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.7); /* Hitam Bening */
            color: var(--retro-yellow); /* Kuning */
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-family: 'Press Start 2P', cursive;
            z-index: 2;
            letter-spacing: 1px;
        }

        .date-badge {
            position: absolute; bottom: 35px; left: 50%; transform: translateX(-50%);
            color: #444; font-family: 'Courier New', monospace; font-weight: bold; font-size: 8px; letter-spacing: -0.5px; opacity: 0.6;
            display: none; /* Disembunyikan karena diganti nomor */
        }
        .card-dot {
            width: 5px; height: 5px; background: #ddd; border-radius: 50%;
            position: absolute; bottom: 18px; box-shadow: inset 1px 1px 2px rgba(0,0,0,0.2);
        }
        .d-left { left: 10px; } .d-right { right: 10px; }

        /* ANIMASI TEXT GELOMBANG */
        .wavy-text {
            color: var(--retro-green);
            font-size: 9px;
            font-weight: bold;
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        .wavy-text span {
            display: inline-block;
            animation: wave 1s infinite ease-in-out;
            animation-delay: calc(0.1s * var(--i));
        }
        @keyframes wave {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        /* --- VIDEO TRIGGER & TOMBOL CETAK ULANG --- */
        .video-card-trigger {
            width: 90%; max-width: 180px;
            aspect-ratio: 1/1; 
            background-color: #0d1117; 
            display: flex; flex-direction: column; 
            justify-content: center; align-items: center;
            border-radius: 4px; cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
            position: relative; margin-bottom: 15px;
            border: 2px solid #222;
            transition: transform 0.2s; flex-shrink: 0;
            overflow: hidden;
        }
        .video-card-trigger::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url('https://raw.githubusercontent.com/johanwirawan/johanwirawannnn/refs/heads/main/Screenshot_20250618_083414_Instagram.jpg');
            background-size: cover; background-position: center;
            filter: brightness(0.5) contrast(1.1); z-index: 1;
        }
        .video-card-trigger:active { transform: scale(0.95); }
        .play-circle {
            width: 50px; height: 50px; background-color: #b92b27;
            border-radius: 50%; display: flex; justify-content: center; align-items: center;
            box-shadow: 0 3px 0 #8b1f1c; margin-bottom: 10px;
            transition: background 0.2s; position: relative; z-index: 2;
        }
        .video-card-trigger:hover .play-circle { background-color: #d32f2f; }
        .play-triangle {
            width: 0; height: 0; border-left: 16px solid #fff;
            border-top: 10px solid transparent; border-bottom: 10px solid transparent; margin-left: 4px;
        }
        .video-text { 
            color: #fff; font-size: 8px; font-family: sans-serif; 
            margin-bottom: 25px; text-align: center; font-weight: 300; letter-spacing: 0.5px;
            position: relative; z-index: 2; text-shadow: 0 1px 2px rgba(0,0,0,0.8);
        }
        .clip-dump-label-trigger {
            position: absolute; bottom: 0; width: 100%;
            background: #000; color: var(--retro-yellow); padding: 8px 0;
            text-align: center; font-family: 'Press Start 2P'; font-size: 9px;
            border-top: 1px solid #333; letter-spacing: 1px; z-index: 3;
        }

        /* Tombol Cetak Ulang (Hijau) */
        .btn-reload {
            background-color: var(--btn-green);
            color: white; border: 2px solid #fff;
            padding: 8px 12px; font-family: 'Press Start 2P';
            font-size: 8px; cursor: pointer; border-radius: 4px;
            margin-bottom: 20px; /* Jarak bawah */
            width: 90%; max-width: 180px;
            text-align: center; box-shadow: 0 4px 0 #27ae60;
        }
        .btn-reload:active { transform: translateY(4px); box-shadow: 0 0 0 #27ae60; }

        /* --- VIDEO MODAL --- */
        .video-modal-overlay {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px);
            z-index: 99999; 
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            animation: fadeIn 0.3s ease-out;
        }
        .video-window-frame {
            width: 90%; max-width: 350px;
            background: #222;
            border: 3px solid var(--retro-yellow);
            border-radius: 8px;
            box-shadow: 0 0 30px rgba(241, 196, 15, 0.3);
            position: relative;
            display: flex; flex-direction: column;
            overflow: visible; 
        }
        .video-header-bar {
            background: #333; color: var(--retro-yellow);
            font-size: 10px; text-align: center; padding: 10px;
            font-family: 'Press Start 2P'; border-bottom: 2px solid #444;
            letter-spacing: 1px;
            border-radius: 6px 6px 0 0;
        }
        .video-player-container {
            width: 100%; position: relative; background: #000;
            display: flex; justify-content: center; align-items: center;
            min-height: 200px;
        }
        video { width: 100%; height: auto; display: block; max-height: 60vh; }
        .btn-close-modal {
            position: absolute; top: -20px; right: -15px; 
            width: 35px; height: 35px; background: #ff2d55;
            color: white; border: 2px solid white; border-radius: 50%;
            font-size: 16px; font-weight: bold; cursor: pointer;
            display: flex; justify-content: center; align-items: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.5); z-index: 10000; 
        }
        .btn-close-modal:active { transform: scale(0.9); }
        .nav-video-container {
            display: flex; justify-content: space-between;
            width: 100%; padding: 10px; background: #111; box-sizing: border-box;
            border-radius: 0 0 6px 6px;
        }
        .nav-vid-btn {
            background: #333; color: var(--retro-green); border: 1px solid var(--retro-green);
            padding: 8px 15px; font-family: 'Press Start 2P'; font-size: 8px;
            cursor: pointer; border-radius: 4px; transition: 0.2s;
        }
        .nav-vid-btn:active { background: var(--retro-green); color: #000; }

        /* EFEK DEVELOPING & FLASH */
        .developing-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: #111; display: flex; flex-direction: column;
            justify-content: center; align-items: center; z-index: 5;
            transition: opacity 0.5s;
        }
        .dev-text { color: var(--retro-green); font-family: monospace; font-size: 8px; margin-bottom: 5px; }
        .dev-bar { width: 70%; height: 4px; background: #333; border: 1px solid #555; }
        .dev-fill { height: 100%; background: var(--retro-green); width: 0%; transition: width 0.1s linear; }
        .flash-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: white; z-index: 10; pointer-events: none; opacity: 0;
        }
        .do-flash { animation: flashAnim 0.4s ease-out; }
        @keyframes flashAnim { 0% { opacity: 1; } 100% { opacity: 0; } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Buttons & Footer Umum */
        .msg-footer { width: 100%; display: flex; flex-direction: column; align-items: center; gap: 8px; margin-top: 10px; padding-bottom: 20px; z-index: 10; }
        .btn-back { background: var(--btn-red); color: white; font-family: 'Press Start 2P'; font-size: 10px; border: 2px solid #000; padding: 12px; cursor: pointer; border-radius: 8px; width: 150px; }
        .btn-print { background-color: var(--heart-red); color: white; border: 2px solid #fff; padding: 10px 15px; font-family: 'Press Start 2P'; font-size: 8px; cursor: pointer; border-radius: 4px; margin-top: 20px; animation: pulseBtn 1.5s infinite; }
        .btn-back-gallery {
            background-color: var(--btn-red); color: white; border: 2px solid #fff; padding: 8px 12px; 
            font-family: 'Press Start 2P'; font-size: 8px; cursor: pointer; border-radius: 6px; 
            width: 82%; text-align: center; box-shadow: 0 4px 0 #c0392b; margin-top: 10px; z-index: 20;
        }
        .btn-back-gallery:active { transform: translateY(4px); box-shadow: 0 0 0 #c0392b; }

        /* --- MUSIC UI --- */
        .music-ui { width: 100%; display: flex; flex-direction: column; align-items: center; padding-bottom: 30px; }
        .vinyl-container { position: relative; width: 120px; height: 120px; margin: 10px auto; }
        .vinyl-disc {
            width: 100%; height: 100%;
            background: radial-gradient(circle, #333 8%, #111 9%, #111 20%, #222 21%, #111 30%, #222 31%, #111 40%, #222 41%, #111 50%, #222 51%, #111 60%);
            border-radius: 50%; border: 3px solid #000; display: flex; align-items: center; justify-content: center;
            animation: rotateVinyl 4s linear infinite; animation-play-state: paused;
        }
        .playing .vinyl-disc { animation-play-state: running; }
        .vinyl-center { width: 42px; height: 42px; background: var(--retro-green); border-radius: 50%; border: 2px solid #000; overflow: hidden; }
        .vinyl-center img { width: 100%; height: 100%; object-fit: cover; }
        @keyframes rotateVinyl { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .visualizer { display: flex; align-items: flex-end; gap: 3px; height: 25px; margin: 15px 0; width: 90%; justify-content: center; }
        .viz-bar { width: 4px; background: var(--retro-green); height: 4px; }
        .playing .viz-bar { animation: dance 0.5s ease infinite alternate; }
        @keyframes dance { from { height: 4px; } to { height: 25px; } }
        .song-info { text-align: center; margin: 10px 0; width: 100%; }
        .song-title { font-size: 8px; color: var(--retro-green); margin-bottom: 8px; line-height: 1.4; letter-spacing: 0.5px; }
        .song-artist { font-size: 7px; color: var(--retro-yellow); opacity: 0.9; }
        .music-progress { width: 90%; height: 8px; background: #222; margin: 10px 0; border: 1px solid var(--retro-green); position: relative; }
        .progress-fill { width: 0%; height: 100%; background: var(--retro-green); transition: width 0.1s linear; }
        .music-controls { display: flex; gap: 15px; margin: 10px 0; }
        .music-btn { background: var(--btn-blue); border: 2px solid #fff; padding: 8px 12px; color: white; font-size: 8px; font-family: 'Press Start 2P'; cursor: pointer; border-radius: 4px; }
        
        .playlist-header { width: 90%; color: var(--retro-yellow); font-size: 8px; text-align: left; margin-top: 10px; border-bottom: 1px solid #444; padding-bottom: 5px; }
        .playlist { width: 100%; background: rgba(0,0,0,0.8); border: 1px solid var(--retro-green); margin-top: 5px; font-size: 7px; max-height: 120px; overflow-y: auto; border-radius: 5px; }
        .pl-item { padding: 10px; border-bottom: 1px solid #222; display: flex; justify-content: space-between; cursor: pointer; color: var(--retro-green); line-height: 1.2; }
        .pl-item.active { background: rgba(102, 255, 102, 0.2); color: var(--retro-yellow); }

        /* --- BASIC UI --- */
        .controls { width: 100%; display: flex; justify-content: space-between; padding: 0 10px; box-sizing: border-box; }
        .dpad { position: relative; width: 80px; height: 80px; }
        .d-btn { background: #222; position: absolute; border-radius: 3px; cursor: pointer; box-shadow: 0 4px 0 #000; }
        .d-btn:active { background: #444; transform: translateY(2px); box-shadow: 0 2px 0 #000; }
        .up { width: 25px; height: 30px; top: 0; left: 27px; } .down { width: 25px; height: 30px; bottom: 0; left: 27px; }
        .left { width: 30px; height: 25px; top: 27px; left: 0; } .right { width: 30px; height: 25px; top: 27px; right: 0; }
        .circle-btn { width: 35px; height: 35px; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: white; border: none; box-shadow: 0 4px 0 rgba(0,0,0,0.3), inset -2px -2px 5px rgba(0,0,0,0.4), inset 2px 2px 5px rgba(255,255,255,0.4); font-size: 10px; cursor: pointer; font-family: 'Press Start 2P'; }
        .circle-btn:active { transform: scale(0.9); box-shadow: 0 1px 0 rgba(0,0,0,0.3); }
        .menu-center { display: grid; grid-template-columns: 1fr 1fr; gap: 10px 20px; }
        .menu-btn-group { text-align: center; font-size: 5px; color: #444; display: flex; flex-direction: column; align-items: center; }
        .small-btn { width: 25px; height: 25px; background: #444; border-radius: 50%; border: 1px solid #222; cursor: pointer; margin-bottom: 4px; box-shadow: 0 3px 0 #222; }
        .small-btn:active { transform: translateY(2px); box-shadow: 0 1px 0 #222; }
        .big-text { font-size: 14px; color: var(--retro-green); text-align: center; line-height: 1.5; z-index: 6; text-shadow: 0 0 5px var(--retro-green); }
        .med-text { font-size: 10px; color: var(--retro-green); margin-top: 15px; text-align: center; z-index: 6; }
        .blink-text { font-size: 8px; color: var(--retro-yellow); animation: blink 1s infinite; margin-top: 25px; text-align: center; z-index: 6; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
        .speaker-grill { position: absolute; bottom: 25px; right: 25px; display: flex; flex-direction: column; gap: 6px; transform: rotate(-30deg); }
        .speaker-line { width: 45px; height: 5px; background: rgba(0,0,0,0.2); border-radius: 10px; box-shadow: inset 1px 1px 2px rgba(0,0,0,0.3); }

        /* Maze & Msg */
        .maze-ui { display: flex; flex-direction: column; align-items: center; width: 100%; padding-bottom: 100px; }
        .maze-controller { display: grid; grid-template-areas: ". up ." "left . right" ". down ."; gap: 8px; margin: 20px 0; }
        .maze-btn { width: 50px; height: 50px; background: var(--maze-pink); border: 3px solid #fff; border-radius: 12px; color: white; font-size: 18px; box-shadow: 0 4px #d63384; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .btn-up { grid-area: up; } .btn-down { grid-area: down; } .btn-left { grid-area: left; } .btn-right { grid-area: right; }
        .msg-title { color: var(--retro-green); font-size: 16px; margin-top: 20px; margin-bottom: 15px; text-align: center; width: 100%; text-shadow: 0 0 5px var(--retro-green); }
        .msg-body { position: relative; z-index: 6; color: var(--retro-green); text-align: left; background: rgba(0, 20, 0, 0.8); padding: 20px; border-radius: 10px; border: 2px solid var(--retro-green); box-shadow: inset 0 0 10px rgba(102, 255, 102, 0.2); width: 90%; margin: 0 auto; }
        #msg-h1, #msg-h2 { font-size: 12px; display: block; margin-bottom: 15px; color: var(--retro-yellow); font-weight: bold; line-height: 1.5; }
        #msg-p { font-size: 9px; line-height: 1.8; color: var(--retro-green); white-space: pre-wrap; display: block; word-wrap: break-word; }
        .btn-skip { background: var(--btn-blue); color: white; font-family: 'Press Start 2P'; font-size: 10px; border: 2px solid #fff; padding: 10px 20px; margin: 20px auto; cursor: pointer; display: block; border-radius: 8px; }
        .btn-next { background: var(--btn-green); color: white; border: 2px solid #000; padding: 15px; cursor: pointer; border-radius: 8px; width: 240px; font-family: 'Press Start 2P'; font-size: 10px; }
        
        /* Tema Hadiah */
        .gift-area { width: 120px; height: 120px; margin: 10px auto; border: 3px double var(--retro-green); background: rgba(0,255,0,0.1); display: flex; justify-content: center; align-items: center; position: relative; overflow: hidden; }
        .gift-area img { width: 100%; height: 100%; object-fit: contain; }
        .heart-fly { position: absolute; font-size: 15px; animation: fly 3s linear infinite; z-index: 10; }
        @keyframes fly { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-150px) scale(1.5); opacity: 0; } }
        /* Pixel Heart */
        .heart-pixel-container { display: flex; flex-direction: column; align-items: center; filter: drop-shadow(0 0 5px var(--heart-red)); transform: scale(0.35); margin-top: -10px; }
        .pixel-row { display: flex; justify-content: center; }
        .p-pixel { width: 18px; height: 18px; margin: 1px; border-radius: 1px; }
        .p-fill { background-color: var(--heart-red); opacity: 0; }
        .p-empty { background-color: transparent; }
    </style>
</head>
<body>

<div class="console" id="console">
    <div class="screen-border">
        <div id="display">
            <div class="space-bg" id="space-bg">
                <div class="moon"></div><div class="earth">üåç</div><div class="saturn"></div>
                <div class="ufo">üõ∏</div><div class="astronaut">üë®‚ÄçüöÄ</div><div class="plane">‚úàÔ∏è</div>
            </div>
            <div id="content-area" style="width: 100%; z-index: 6; display: flex; flex-direction: column; justify-content: center; align-items: center;"></div>
        </div>
    </div>

    <div class="controls">
        <div class="dpad">
            <div class="d-btn up" onclick="handlePress('UP')"></div>
            <div class="d-btn down" onclick="handlePress('DOWN')"></div>
            <div class="d-btn left" onclick="handlePress('LEFT')"></div>
            <div class="d-btn right" onclick="handlePress('RIGHT')"></div>
        </div>
        <div class="action-btns" style="display: grid; grid-template-columns: 40px 40px; gap: 10px;">
            <div class="circle-btn" style="background:#1976d2" onclick="handlePress('S')">S</div><div class="circle-btn" style="background:#388e3c" onclick="handlePress('Y')">Y</div>
            <div class="circle-btn" style="background:var(--btn-red)" onclick="handlePress('A')">A</div><button class="circle-btn" style="background:#fbc02d" onclick="closeOverlay()">B</button>
        </div>
    </div>

    <div class="bottom-section" style="margin-top: 20px;">
        <div class="menu-center">
            <div class="menu-btn-group"><button class="small-btn" onclick="showMaze(1)"></button><span>GAMES</span></div>
            <div class="menu-btn-group"><button class="small-btn" onclick="showMusic()"></button><span>MUSIC</span></div>
            <div class="menu-btn-group"><button class="small-btn" onclick="showGallery()"></button><span>GALLERY</span></div>
            <div class="menu-btn-group"><button class="small-btn" onclick="showMessage()"></button><span>MESSAGE</span></div>
        </div>
    </div>
    <div class="speaker-grill">
        <div class="speaker-line"></div><div class="speaker-line"></div><div class="speaker-line"></div>
        <div class="speaker-line"></div><div class="speaker-line"></div><div class="speaker-line"></div>
    </div>
</div>

<script>
    const displayArea = document.getElementById('content-area');
    const displayContainer = document.getElementById('display');
    const consoleElem = document.getElementById('console');
    const spaceBg = document.getElementById('space-bg');
    let typingTimer, mazeTimer, heartTimer, heartInterval;

    let audio = new Audio();
    let currentSongIndex = 0;
    
    // VARIABLE UNTUK VIDEO MP4
    let currentVideoIndex = 0;

    // --- DATA LAGU ---
    const songs = [
        { title: "Happier", artist: "Olivia Rodrigo", url: "https://raw.githubusercontent.com/johanhtml/johanwirawan/main/Olivia%20Rodrigo%20-%20Happier.mp3", img: "https://raw.githubusercontent.com/johanhtml/johanwirawan/refs/heads/main/happier.jpeg" },
        { title: "HAPPY", artist: "Skinny Fabs", url: "https://raw.githubusercontent.com/johanhtml/johanwirawan/main/skinnyfabs%20-%20happy%20(audio).mp3", img: "https://raw.githubusercontent.com/johanhtml/johanwirawan/refs/heads/main/happy.jpeg" },
        { title: "Its You", artist: "Sezairi", url: "https://raw.githubusercontent.com/johanwirawan/johanwirawannnn/main/Sezairi%20-%20It's%20You%20(Official%20Music%20Video).mp3", img: "https://raw.githubusercontent.com/johanwirawan/johanwirawannnn/refs/heads/main/images%20(29).jpeg" },
        { title: "Give me you forever", artist: "Zack Tabudlo", url: "https://raw.githubusercontent.com/johanwirawan/johanwirawannnn/main/Give%20Me%20Your%20Forever%20-%20Zack%20Tabudlo%20(Lirik%20Lagu%20Terjemahan).mp3", img: "https://raw.githubusercontent.com/johanwirawan/johanwirawannnn/refs/heads/main/images%20(26).jpeg" },
        { title: "Best freinds", artist: "Rex Orange County", url: "https://raw.githubusercontent.com/johanwirawan/tinaa/main/Rex%20Orange%20County%20-%20Best%20Friend%20Lirik%20Terjemahan.mp3", img: "https://raw.githubusercontent.com/johanwirawan/tinaa/refs/heads/main/images%20(25).jpeg" }
    ];

    // --- DATA FOTO GALERI (2 SET) ---
    // SET 1 (Awal)
    const galleryPhotosSet1 = [
        { img: "https://raw.githubusercontent.com/johanwirawan/johanwirawannnn/refs/heads/main/IMG-20240601-WA0005.jpg", date: "26/01/26" },
        { img: "https://raw.githubusercontent.com/johanwirawan/johanwirawannnn/refs/heads/main/Screenshot_20250524_180657_Instagram.jpg", date: "14/01/26" },
        { img: "https://raw.githubusercontent.com/johanwirawan/johanwirawannnn/refs/heads/main/IMG-20240526-WA0056.jpg", date: "14/01/26" },
        { img: "https://raw.githubusercontent.com/johanwirawan/johanwirawannnn/refs/heads/main/IMG-20250616-WA0015.jpg", date: "09/01/26" },
        { img: "https://raw.githubusercontent.com/johanwirawan/johanwirawannnn/refs/heads/main/IMG-20240516-WA0037.jpg", date: "01/12/25" }
    ];

    // SET 2 (Untuk Tombol Cetak Ulang) - 5 Foto Baru
    const galleryPhotosSet2 = [
        { img: "https://raw.githubusercontent.com/johanwirawan/johanwirawannnn/refs/heads/main/Screenshot_20260211_191315_Chrome-picsay.jpg", date: "" },
        { img: "https://raw.githubusercontent.com/johanwirawan/johanwirawannnn/refs/heads/main/Screenshot_20260211_192009_Chrome-picsay.jpg", date: "" },
        { img: "https://raw.githubusercontent.com/johanwirawan/johanwirawannnn/refs/heads/main/Screenshot_20260211_192454_Chrome-picsay.jpg", date: "" },
        { img: "https://raw.githubusercontent.com/johanwirawan/johanwirawannnn/refs/heads/main/IMG-20250616-WA0015.jpg", date: "" },
        { img: "https://raw.githubusercontent.com/johanwirawan/johanwirawannnn/refs/heads/main/IMG-20240516-WA0037.jpg", date: "" }
    ];

    let currentGalleryData = galleryPhotosSet1; // Default Set 1
    let isSecondSet = false; // Status apakah sedang menampilkan set 2

    // --- DATA VIDEO (LINK LANGSUNG MP4) ---
    const videoLinks = [
        "https://res.cloudinary.com/dbs1hqrhk/video/upload/f_mp4/lv_7189410572830592258_20260211203743_udztob.mp4",
        "https://res.cloudinary.com/dbs1hqrhk/video/upload/v1770818019/lv_7088297311754882305_20260211205126_rk5osd.mp4",
        "https://res.cloudinary.com/dbs1hqrhk/video/upload/v1770818374/lv_7423047390237625608_20260211205731_csngp2.mp4"
    ];

    const text1 = "Hai Puqi,";
    const text2 = "Happy Birthday!";
    const text3 = `Hari ini aku pengen kamu ngerasain semua hal positif dan keajaiban yang cuma bisa didapetin kalo kamu ada di dunia ini. Semoga segala keinginanmu tercapai, apalagi yang kocak-kocak dan gak biasa, karena kamu tuh unik banget! Aku selalu bersyukur bisa ngeliat kamu jadi versi terbaik dari dirimu, yang kadang-kadang lucu banget pas lagi baper, juga kadang nyebelin pas buat aku marah, tapi juga selalu bikin aku tersenyum tanpa henti. hehe waktu kapan ya yang ini? 

dan Makasih juga kamu dulu uda perna hadir dikehidupan aku. saat aku ingin cerita, partner in crime, dan sumber inspirasi sehari-hari. Semoga tahun ini kamu makin cantik, imut, makin banyak momen bahagia, dan makin dicintai banyak saudara maupun orang disekitar. Jangan lupa ditahun ini dan seterusnya, kita bakal terus selalu bahagia, ngejar mimpi, dan ngelewatin segala drama hidup dengan tawa. walaupun akhirnya gabisa selalu bersama:') hehe uda gituh ajaa...


Salam Bahagia <3
Dari Joan
Bekasi, 11 February 2026`;

    function stopAllTimers() {
        clearInterval(mazeTimer); clearInterval(heartTimer); clearInterval(heartInterval); clearTimeout(typingTimer);
        document.querySelectorAll('.gallery-floater').forEach(el => el.remove());
    }

    function handlePress(key) {
        if(consoleElem.classList.contains('overlay-active')) return;
        stopAllTimers();
        
        let text = "";
        if(key === 'S') text = "Sangat Imut Dari Yang Ter Imut";
        else if(key === 'Y') text = "Yang Tercantik dari yang cantik.";
        else if(key === 'UP') text = "tujuan hidup, motivasi, spiritualitas, wawasan, dan Tuhan.";
        else if(key === 'DOWN') text = "kerendahan hati, bersyukur, dan realitas kehidupan.";
        else if(key === 'RIGHT') text = "kesopanan, atau tindakan yang positif.";
        else if(key === 'LEFT') text = "kreativitas, seni, dan imajinasi.";
        else if(key === 'A') { showPixelHeart(); return; }

        displayArea.innerHTML = `
            <div id="bt1" class="big-text" style="margin-top:50px; font-size:10px; padding:0 10px;"></div>
            <div id="bt2" class="med-text"></div>
            <div id="bt3" class="blink-text" style="display:none;">Puputt, Press Any Button!</div>
        `;
        
        let i = 0;
        function type() {
            if (i < text.length) {
                document.getElementById('bt1').innerHTML += text.charAt(i);
                i++;
                typingTimer = setTimeout(type, 50);
            } else {
                document.getElementById('bt2').innerHTML = "20th (11022026)";
                document.getElementById('bt3').style.display = "block";
            }
        }
        type();
    }

    function showPixelHeart() {
        const grid = [[0,1,1,0,0,0,1,1,0],[1,1,1,1,0,1,1,1,1],[1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1,0],[0,0,1,1,1,1,1,0,0],[0,0,0,1,1,1,0,0,0],[0,0,0,0,1,0,0,0,0]];
        let html = '<div class="heart-pixel-container">';
        grid.forEach(row => {
            html += '<div class="pixel-row">';
            row.forEach(p => html += `<div class="p-pixel ${p ? 'p-fill' : 'p-empty'}"></div>`);
            html += '</div>';
        });
        html += '</div><div id="love-msg" class="blink-text" style="color:var(--heart-red); display:none; margin-top:5px;">LOPE BUAT PUQI</div>';
        displayArea.innerHTML = html;

        const animate = () => {
            document.querySelectorAll('.p-fill').forEach(p => {
                p.style.transition = 'none'; p.style.transform = `translateY(-150px)`; p.style.opacity = '0';
                setTimeout(() => { p.style.transition = 'all 0.8s ease-out'; p.style.transform = 'translateY(0)'; p.style.opacity = '1'; }, Math.random() * 800);
            });
            setTimeout(() => { const msg = document.getElementById('love-msg'); if(msg) msg.style.display = 'block'; }, 1000);
        };
        animate(); heartInterval = setInterval(animate, 4000);
    }

    /* --- MUSIC UI LOGIC --- */
    function showMusic() {
        stopAllTimers(); consoleElem.classList.add('overlay-active'); displayContainer.style.justifyContent = 'flex-start'; renderMusicUI();
    }

    function renderMusicUI() {
        const song = songs[currentSongIndex]; const isPlaying = !audio.paused;
        displayArea.innerHTML = `
            <div class="music-ui ${isPlaying ? 'playing' : ''}">
                <div class="msg-title" style="font-size:11px; margin-top:5px; margin-bottom:5px;">MUSIC PLAYER</div>
                <div class="vinyl-container"><div class="vinyl-disc"><div class="vinyl-center"><img src="${song.img}"></div></div></div>
                <div class="visualizer">${Array(16).fill('<div class="viz-bar"></div>').join('')}</div>
                <div class="song-info"><div class="song-title">${song.title}</div><div class="song-artist">${song.artist}</div></div>
                <div class="music-progress"><div class="progress-fill" id="p-fill"></div></div>
                <div class="music-controls"><button class="music-btn" onclick="changeSong(-1)">‚óÄ‚óÄ</button><button class="music-btn" onclick="togglePlay()" id="play-pause-btn">${isPlaying ? '‚è∏' : '‚ñ∂'}</button><button class="music-btn" onclick="changeSong(1)">‚ñ∂‚ñ∂</button></div>
                <div class="playlist-header">PLAYLIST üéµ</div>
                <div class="playlist" id="pl-list"></div>
                <button class="btn-msg btn-back" onclick="audio.pause(); closeOverlay()" style="margin-top:20px; width: 180px;">CLOSE</button>
            </div>
        `;
        if(isPlaying) document.querySelectorAll('.viz-bar').forEach(bar => { bar.style.animationDuration = (Math.random() * 0.4 + 0.2) + 's'; });
        updatePlaylistUI();
        if(audio.src !== song.url) audio.src = song.url;
        audio.ontimeupdate = () => { const fill = document.getElementById('p-fill'); if(fill && audio.duration) fill.style.width = (audio.currentTime / audio.duration * 100) + "%"; };
        audio.onended = () => changeSong(1);
    }

    function togglePlay() { audio.paused ? audio.play() : audio.pause(); renderMusicUI(); }
    function changeSong(dir) { currentSongIndex = (currentSongIndex + dir + songs.length) % songs.length; audio.src = songs[currentSongIndex].url; audio.play(); renderMusicUI(); }
    function updatePlaylistUI() { const list = document.getElementById('pl-list'); if(list) list.innerHTML = songs.map((s, i) => `<div class="pl-item ${i === currentSongIndex ? 'active' : ''}" onclick="playSpecific(${i})"><span>${i+1}. ${s.title.substring(0,15)}...</span><span>üéµ</span></div>`).join(''); }
    function playSpecific(i) { currentSongIndex = i; audio.src = songs[currentSongIndex].url; audio.play(); renderMusicUI(); }

    /* --- GALLERY LOGIC TERBARU --- */
    function showGallery() {
        stopAllTimers();
        consoleElem.classList.add('overlay-active');
        displayContainer.style.justifyContent = 'flex-start';
        displayContainer.style.padding = '0';
        
        // Reset ke set pertama setiap kali buka gallery baru (opsional, hapus baris ini jika ingin mengingat state terakhir)
        currentGalleryData = galleryPhotosSet1;
        isSecondSet = false;

        displayArea.innerHTML = `
            <div class="gallery-ui" id="gallery-ui">
                
                <div class="printer-deco">
                    <div class="gallery-big-text">GALLERY</div>
                    <div class="printer-slot"></div>
                </div>

                <div class="photobox-container">
                    <div class="photobox-header">
                        <div class="led-indicator led-red"></div>
                        <span class="photobox-title">PUPUTT PHOTOBOX</span>
                        <div class="led-indicator led-green"></div>
                    </div>
                    
                    <div class="photobox-screen" id="photo-screen">
                        <div id="start-btn-area" style="margin-top: 50px; text-align:center;">
                            <p style="color:#888; font-size:8px; margin-bottom:15px; line-height:1.5;">READY TO DEVELOP PHOTOS...</p>
                            <button class="btn-print" onclick="startOneByOneProcess()">MULAI CETAK</button>
                        </div>

                        <div id="wavy-loader" class="wavy-text" style="display:none; margin-top:50px;">
                            ${createWavyText("Mempersiapkan Photobox...")}
                        </div>
                    </div>
                </div>
                
                <button class="btn-back-gallery" onclick="closeOverlay()">KEMBALI</button>
            </div>
        `;
    }

    // Fungsi helper membuat huruf bergelombang
    function createWavyText(text) {
        return text.split('').map((char, i) => 
            `<span style="--i:${i}">${char === ' ' ? '&nbsp;' : char}</span>`
        ).join('');
    }

    async function startOneByOneProcess() {
        const screen = document.getElementById('photo-screen');
        const startArea = document.getElementById('start-btn-area');
        const wavyLoader = document.getElementById('wavy-loader');

        // Jika dipanggil dari tombol reload, bersihkan layar dulu
        screen.innerHTML = '';
        screen.appendChild(wavyLoader); // Kembalikan wavy loader ke screen karena sempat dihapus innerHTML

        // 1. Hilangkan tombol start (jika ada)
        if(startArea) startArea.style.display = 'none';

        // 2. Tampilkan teks gelombang
        if(wavyLoader) wavyLoader.style.display = 'flex';

        // 3. Tunggu 2.5 detik (simulasi loading)
        await new Promise(r => setTimeout(r, 2500));

        // 4. Hilangkan teks loading
        if(wavyLoader) wavyLoader.style.display = 'none';
        
        // 5. Mulai proses cetak foto (Gunakan data dari variabel currentGalleryData)
        for (let i = 0; i < currentGalleryData.length; i++) {
            await processSinglePhoto(currentGalleryData[i], i + 1, screen);
            screen.scrollTop = screen.scrollHeight;
        }

        // SETELAH FOTO SELESAI, TAMPILKAN TOMBOL VIDEO & TOMBOL CETAK ULANG
        appendVideoTriggerCard(screen);
    }

    function processSinglePhoto(photoData, num, container) {
        return new Promise(resolve => {
            const rot = (Math.random() * 4 - 2) + 'deg';
            
            const pDiv = document.createElement('div');
            pDiv.className = 'photo-card-frame';
            pDiv.style.setProperty('--rot', rot);
            
            // Tambahkan Label #1, #2 dibawah foto dengan background hitam transparan
            pDiv.innerHTML = `
                <div class="photo-img-area">
                    <img src="${photoData.img}" id="img-${num}" alt="Memory">
                    <div class="flash-overlay" id="flash-${num}"></div>
                    <div class="developing-overlay" id="dev-${num}">
                        <div class="dev-text">DEVELOPING.. <span id="pct-${num}">0%</span></div>
                        <div class="dev-bar"><div class="dev-fill" id="fill-${num}"></div></div>
                    </div>
                </div>
                <div class="photo-tag-number">#${num}</div>
                <div class="card-dot d-left"></div>
                <div class="card-dot d-right"></div>
            `;
            
            container.appendChild(pDiv);

            let pct = 0;
            const fill = document.getElementById(`fill-${num}`);
            const txt = document.getElementById(`pct-${num}`);
            const devLayer = document.getElementById(`dev-${num}`);
            const realImg = document.getElementById(`img-${num}`);
            const flash = document.getElementById(`flash-${num}`);

            const interval = setInterval(() => {
                pct += 4;
                if(fill) fill.style.width = pct + "%";
                if(txt) txt.innerText = pct + "%";

                if(pct >= 100) {
                    clearInterval(interval);
                    if(flash) flash.classList.add('do-flash');
                    if(devLayer) devLayer.style.opacity = '0';
                    if(realImg) realImg.style.opacity = '1';
                    setTimeout(() => { resolve(); }, 600);
                }
            }, 40);
        });
    }

    // --- FITUR VIDEO & TOMBOL RELOAD (Update) ---
    function appendVideoTriggerCard(container) {
        // 1. Kartu Video
        const vidDiv = document.createElement('div');
        vidDiv.className = 'video-card-trigger';
        vidDiv.onclick = showFullscreenVideo;
        vidDiv.innerHTML = `
            <div class="play-circle">
                <div class="play-triangle"></div>
            </div>
            <div class="video-text">Klik untuk memutar video</div>
            <div class="clip-dump-label-trigger">Clip Dump</div>
        `;
        container.appendChild(vidDiv);

        // 2. Tombol Cetak Ulang (Hijau) di bawah Video
        const reloadBtn = document.createElement('button');
        reloadBtn.className = 'btn-reload';
        reloadBtn.innerText = 'CETAK ULANG';
        reloadBtn.onclick = handleReload; // Fungsi reload baru
        container.appendChild(reloadBtn);

        container.scrollTop = container.scrollHeight;
    }

    // Fungsi Logika Tombol Cetak Ulang
    function handleReload() {
        // Ganti Data Foto
        if (isSecondSet) {
            currentGalleryData = galleryPhotosSet1; // Kembali ke foto awal
            isSecondSet = false;
        } else {
            currentGalleryData = galleryPhotosSet2; // Pindah ke 5 foto baru
            isSecondSet = true;
        }

        // Jalankan proses ulang
        startOneByOneProcess();
    }

    // --- VIDEO MODAL (POPUP WINDOW) ---
    function showFullscreenVideo() {
        if(videoLinks.length === 0) return;
        currentVideoIndex = 0;

        // Overlay Modal dengan Border Kuning & Header
        const modalHTML = `
            <div class="video-modal-overlay" id="video-modal">
                <div class="video-window-frame">
                    <button class="btn-close-modal" onclick="closeVideoModal()">‚úï</button>
                    <div class="video-header-bar">Clip Dump</div>
                    <div class="video-player-container">
                        <video id="main-video" src="${videoLinks[0]}" controls autoplay playsinline></video>
                    </div>
                    <div class="nav-video-container">
                        <button class="nav-vid-btn" onclick="changeVideo(-1)">‚óÄ PREV</button>
                        <button class="nav-vid-btn" onclick="changeVideo(1)">NEXT ‚ñ∂</button>
                    </div>
                </div>
            </div>
        `;
        document.body.insertAdjacentHTML('beforeend', modalHTML);
    }
    
    function changeVideo(dir) {
        currentVideoIndex = (currentVideoIndex + dir + videoLinks.length) % videoLinks.length;
        const vid = document.getElementById('main-video');
        if(vid) {
            vid.src = videoLinks[currentVideoIndex];
            vid.play();
        }
    }

    function closeVideoModal() {
        const modal = document.getElementById('video-modal');
        if (modal) modal.remove();
    }

    /* --- MESSAGE LOGIC --- */
    function showMessage() {
        stopAllTimers(); consoleElem.classList.add('overlay-active'); displayContainer.style.justifyContent = 'flex-start';
        displayArea.innerHTML = `<div class="msg-title">MESSAGE</div><div class="msg-body"><span id="msg-h1"></span><span id="msg-h2"></span><span id="msg-p"></span></div><button id="skip-btn" class="btn-skip" onclick="skipTyping()">SKIP</button><div class="msg-footer"><button class="btn-msg btn-next" onclick="window.open('https://wa.me/628151851990', '_blank')">WhatsApp Joan</button><button class="btn-msg btn-back" onclick="closeOverlay()">KEMBALI</button></div>`;
        typeWriter(text1, "msg-h1", 50, () => { typeWriter(text2, "msg-h2", 50, () => { typeWriter(text3, "msg-p", 20); }); });
    }

    function typeWriter(text, elementId, speed, callback) {
        let i = 0; const element = document.getElementById(elementId); if(!element) return;
        function type() { if (i < text.length) { element.innerHTML += text.charAt(i); i++; displayContainer.scrollTop = displayContainer.scrollHeight; typingTimer = setTimeout(type, speed); } else if (callback) callback(); }
        type();
    }
    function skipTyping() { clearTimeout(typingTimer); document.getElementById('msg-h1').innerHTML = text1; document.getElementById('msg-h2').innerHTML = text2; document.getElementById('msg-p').innerHTML = text3; if(document.getElementById('skip-btn')) document.getElementById('skip-btn').style.display = 'none'; displayContainer.scrollTop = displayContainer.scrollHeight; }

    /* --- MAZE LOGIC --- */
    let player = { x: 1, y: 1 }, currentLevel = 1, timeLeft = 25;
    const mazeMaps = {
        1: [[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,1,0,0,0,0,0,0,0,0,0,1],[1,1,1,0,1,0,1,1,1,1,1,1,1,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,1,0,1],[1,0,1,1,1,1,1,0,1,1,1,0,1,0,1],[1,0,1,0,0,0,0,0,1,0,0,0,1,0,1],[1,0,1,0,1,1,1,1,1,0,1,1,1,0,1],[1,0,0,0,1,0,0,0,0,0,1,0,0,0,1],[1,1,1,1,1,0,1,1,1,1,1,0,1,1,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,0,1,1,1,1,1,0,1],[1,0,1,0,0,0,1,0,1,0,0,0,1,0,1],[1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],[1,0,0,0,1,0,0,0,0,0,1,0,0,2,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],
        2: [[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1],[1,0,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,1,1,0,1],[1,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,1],[1,0,1,0,1,1,1,1,1,0,1,0,1,1,1,0,1,0,1,0,1],[1,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1],[1,0,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,0,1],[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1],[1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,1,1,0,1,0,1],[1,0,0,0,1,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,1],[1,0,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,1,1,0,1],[1,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1],[1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1],[1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1],[1,0,1,0,0,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1],[1,0,1,1,1,1,1,0,1,0,0,0,0,0,1,0,1,0,0,0,1],[1,0,0,0,0,0,0,0,1,0,1,1,1,0,1,0,1,1,1,0,1],[1,0,1,1,1,1,1,1,1,0,0,0,1,0,0,0,1,0,0,2,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],
        3: [[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1],[1,0,1,0,1,0,1,1,1,0,1,0,1,1,1,0,1,0,1,1,1,1,1,0,1],[1,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1],[1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,0,1,0,1],[1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,1],[1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,1],[1,0,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,0,1,0,1,1,1,1,1],[1,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,0,0,1],[1,0,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,0,1],[1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,1],[1,1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1],[1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1],[1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1],[1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,1],[1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1],[1,0,1,0,1,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,0,0,0,0,1],[1,0,1,0,1,0,1,1,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,0,1],[1,0,0,0,1,0,1,0,1,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,1],[1,1,1,0,1,0,1,0,1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,0,1],[1,0,0,0,1,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,1,0,1],[1,0,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,0,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,2,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]
    };

    function showMaze(lvl) {
        stopAllTimers(); currentLevel = lvl; player = { x: 1, y: 1 };
        consoleElem.classList.add('overlay-active');
        displayContainer.style.justifyContent = 'flex-start';
        let timerHTML = lvl === 3 ? `<div id="maze-timer" style="color:red; font-size:12px; margin-bottom:10px;">WAKTU: 25s</div>` : '';
        displayArea.innerHTML = `<div class="maze-ui"><div class="msg-title">MAZE LVL ${lvl}</div>${timerHTML}<canvas id="mazeCanvas" width="240" height="240"></canvas><div class="maze-controller"><button class="maze-btn btn-up" onclick="moveMaze('up')">‚ñ≤</button><button class="maze-btn btn-left" onclick="moveMaze('left')">‚óÄ</button><button class="maze-btn btn-right" onclick="moveMaze('right')">‚ñ∂</button><button class="maze-btn btn-down" onclick="moveMaze('down')">‚ñº</button></div><button class="btn-msg btn-back" onclick="closeOverlay()">KEMBALI</button></div>`;
        if (lvl === 3) startTimer();
        drawMaze();
    }

    function startTimer() {
        timeLeft = 25; mazeTimer = setInterval(() => { timeLeft--; if(document.getElementById('maze-timer')) document.getElementById('maze-timer').innerText = `WAKTU: ${timeLeft}s`; if (timeLeft <= 0) { clearInterval(mazeTimer); displayArea.innerHTML = `<div class="maze-ui"><h2 style="color:red; margin-top:50px;">GAGAL!</h2><p style="color:white; font-size:10px; text-align:center; padding:10px;">Yah waktunya habis, Ingat ya walaupun kamu gagal digame ini kamu tetap bakal selalu menang dihati ku kok^^</p><button class="btn-msg btn-next" onclick="showMaze(3)">ULANG LVL 3</button><button class="btn-msg btn-back" onclick="closeOverlay()">MENYERAH</button></div>`; } }, 1000);
    }
    function drawMaze() { const canvas = document.getElementById("mazeCanvas"); if(!canvas) return; const ctx = canvas.getContext("2d"); const maze = mazeMaps[currentLevel]; const tileSize = 240 / maze.length; ctx.clearRect(0,0,240,240); for(let y=0; y<maze.length; y++){ for(let x=0; x<maze.length; x++){ if(maze[y][x] === 1) { ctx.fillStyle = "#333"; ctx.fillRect(x*tileSize, y*tileSize, tileSize, tileSize); } else if(maze[y][x] === 2) { ctx.font = tileSize+"px Arial"; ctx.fillText("üë¶", x*tileSize+tileSize/2, y*tileSize+tileSize/2); } } } ctx.textAlign = "center"; ctx.textBaseline = "middle"; ctx.fillText("üëß", player.x*tileSize+tileSize/2, player.y*tileSize+tileSize/2); }
    function moveMaze(d) {
        let nx = player.x, ny = player.y; if(d==='up') ny--; if(d==='down') ny++; if(d==='left') nx--; if(d==='right') nx++;
        if(mazeMaps[currentLevel][ny] && mazeMaps[currentLevel][ny][nx] !== 1) { player.x = nx; player.y = ny; drawMaze(); }
        if(mazeMaps[currentLevel][player.y][player.x] === 2) {
            clearInterval(mazeTimer);
            if(currentLevel === 1) { displayArea.innerHTML = `<div class="maze-ui"><h2 style="color:var(--retro-green); margin-top:30px; text-align:center;">LVL 1 CLEAR!</h2><p style="color:white; font-size:10px; text-align:center; line-height:1.6; padding:15px;">Ini bukan maze‚Ä¶
ini simulasi hidup bareng aku üòå
Ribet dikit,
tapi ujungnya bahagia üíïüòÜ</p><button class="btn-msg btn-next" onclick="showMaze(2)">LANJUT LEVEL 2</button></div>`; }
            else if(currentLevel === 2) { displayArea.innerHTML = `<div class="maze-ui"><h2 style="color:var(--retro-green); margin-top:30px; text-align:center;">LVL 2 CLEAR!</h2><p style="color:white; font-size:10px; text-align:center; line-height:1.6; padding:15px;">Ini game biasa,
bukan tes kesabaran‚Ä¶
tapi kamu masih lanjut,
berarti kamu sayang aku kan? canda üòÜ</p><button class="btn-msg btn-next" onclick="showMaze(3)">MULAI LVL TERAKHIR</button></div>`; }
            else { displayArea.innerHTML = `<div class="maze-ui"><h2 style="color:var(--retro-green); margin-top:30px;">BERHASIL!</h2><div class="gift-area"><img src="https://raw.githubusercontent.com/johanwirawan/persiapaantina/refs/heads/main/funny.gif"></div><p style="color:white; font-size:10px; text-align:center; padding:10px;">Congratss, Hal penting dari game ini:
hidup juga sering seperti ini‚Äî
jalannya nggak selalu jelas,
kadang capek, kadang pengen nyerah, kadang pengen makan.
Tapi ada satu hal yang penting kamu tahu:
seberapa ribet pun hari kamu,
selalu ada orang yang senantiasa menunggu.
diakhir jalan sulit mu itu
Semoga bahagia^^!<br><br><span style="color:var(--retro-yellow);">SEMANGAT YA ‚ù§Ô∏è</span></p><button class="btn-msg btn-next" onclick="closeOverlay()">SELESAI</button></div>`; heartTimer = setInterval(() => { const h = document.createElement('div'); h.className = 'heart-fly'; h.innerHTML = '‚ù§Ô∏è'; h.style.left = Math.random()*80+10+'%'; h.style.bottom = '20%'; displayArea.appendChild(h); setTimeout(()=>h.remove(), 3000); }, 400); }
        }
    }

    function closeOverlay() { 
        stopAllTimers(); 
        closeVideoModal(); 
        consoleElem.classList.remove('overlay-active'); 
        displayContainer.style.padding = '15px'; 
        resetScreen(); 
    }
    
    function resetScreen() { stopAllTimers(); displayContainer.style.justifyContent = 'center'; displayArea.innerHTML = `<div id="t1" class="big-text"></div><div id="t2" class="med-text"></div><div id="t3" class="blink-text" style="display:none;">Press Any Button!</div>`; let i = 0; const txt = "HAPPY BIRTHDAY PUPUTT ü•≥ü•∞"; function type() { if (i < txt.length) { document.getElementById('t1').innerHTML += txt.charAt(i); i++; typingTimer = setTimeout(type, 70); } else { document.getElementById('t2').innerHTML = "20th (11022026)"; document.getElementById('t3').style.display = "block"; } } type(); }
    function createStars() { for (let i = 0; i < 35; i++) { const star = document.createElement('div'); star.className = 'star'; const size = Math.random() * 3 + 'px'; star.style.width = size; star.style.height = size; star.style.top = Math.random() * 100 + '%'; star.style.left = Math.random() * 100 + '%'; star.style.setProperty('--duration', (Math.random() * 3 + 1) + 's'); spaceBg.appendChild(star); } }

    window.onload = () => { createStars(); resetScreen(); };
</script>
</body>
</html>
